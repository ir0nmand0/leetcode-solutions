<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<svg
   viewBox="0 0 850 950"
   font-family="Consolas, monospace"
   version="1.1"
   id="svg149"
   sodipodi:docname="11-visualization.svg"
   inkscape:version="1.4.3 (0d15f75, 2025-12-25)"
   xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"
   xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"
   xmlns="http://www.w3.org/2000/svg"
   xmlns:svg="http://www.w3.org/2000/svg">
  <defs
     id="defs149" />
  <sodipodi:namedview
     id="namedview149"
     pagecolor="#ffffff"
     bordercolor="#000000"
     borderopacity="0.25"
     inkscape:showpageshadow="2"
     inkscape:pageopacity="0.0"
     inkscape:pagecheckerboard="0"
     inkscape:deskcolor="#d1d1d1"
     inkscape:zoom="0.85789474"
     inkscape:cx="424.8773"
     inkscape:cy="288.49693"
     inkscape:window-width="1920"
     inkscape:window-height="1017"
     inkscape:window-x="-8"
     inkscape:window-y="-8"
     inkscape:window-maximized="1"
     inkscape:current-layer="svg149" />
  <style
     id="style1">
    .title { font-size: 18px; font-weight: bold; fill: #1a1a2e; }
    .step-label { font-size: 14px; font-weight: bold; fill: #16213e; }
    .bar { stroke: #334155; stroke-width: 1.5; }
    .bar-normal { fill: #cbd5e1; }
    .bar-left { fill: #93c5fd; }
    .bar-right { fill: #fca5a5; }
    .bar-best { fill: #86efac; }
    .bar-dim { fill: #e2e8f0; }
    .area-rect { fill: #dbeafe; fill-opacity: 0.4; stroke: #3b82f6; stroke-width: 1.5; stroke-dasharray: 4,3; }
    .area-best { fill: #dcfce7; fill-opacity: 0.4; stroke: #22c55e; stroke-width: 1.5; stroke-dasharray: 4,3; }
    .val { font-size: 11px; text-anchor: middle; fill: #1e293b; font-weight: bold; }
    .idx { font-size: 11px; text-anchor: middle; fill: #94a3b8; }
    .pointer { font-size: 12px; text-anchor: middle; font-weight: bold; }
    .ptr-left { fill: #2563eb; }
    .ptr-right { fill: #dc2626; }
    .note { font-size: 12px; fill: #475569; }
    .note-bold { font-size: 13px; fill: #1e293b; font-weight: bold; }
    .formula { font-size: 12px; fill: #1e293b; }
    .formula-box { fill: #fef9c3; stroke: #ca8a04; stroke-width: 1.5; rx: 8; }
    .max-box { fill: #dcfce7; stroke: #22c55e; stroke-width: 1.5; rx: 8; }
    .verdict-action { font-size: 12px; fill: #dc2626; font-weight: bold; }
    .verdict-found { font-size: 12px; fill: #059669; font-weight: bold; }
    .divider { stroke: #cbd5e1; stroke-width: 1; stroke-dasharray: 4,4; }
  </style>
  <!-- Title -->
  <text
     x="425"
     y="30"
     text-anchor="middle"
     class="title"
     id="text1">11. Container With Most Water — Two Pointers</text>
  <text
     x="425"
     y="50"
     text-anchor="middle"
     class="note"
     id="text2">«Контейнер для воды» = прямоугольник. Вода ни при чём. Всё между индексами игнорируется. Найди max( min(h[i], h[j]) × (j-i) ).</text>
  <text
     x="425"
     y="66"
     text-anchor="middle"
     class="note"
     id="text3">Вход: [1, 8, 6, 2, 5, 4, 8, 3, 7] → Выход: 49</text>
  <!-- ==================== STEP 0 ==================== -->
  <line
     x1="30"
     y1="82"
     x2="820"
     y2="82"
     class="divider"
     id="line3" />
  <text
     x="40"
     y="104"
     class="step-label"
     id="text4">Шаг 0</text>
  <text
     x="110"
     y="104"
     class="note"
     id="text5">left=0, right=8. Максимальная ширина.</text>
  <!-- Bar chart -->
  <g
     transform="translate(40, 108)"
     id="g34">
    <!-- area rectangle -->
    <rect
       x="10"
       y="12"
       width="288"
       height="72"
       class="area-rect"
       id="rect5" />
    <!-- bars: max height 8 → scale: 9px per unit -->
    <rect
       x="10"
       y="21"
       width="28"
       height="63"
       class="bar bar-left"
       rx="3"
       id="rect6" />
    <!-- h=1, y=84-63=21... let me recalc -->
    <!-- h[0]=1: height=9, y=84-9=75 -->
    <!-- h[1]=8: height=72, y=84-72=12 -->
    <!-- h[2]=6: height=54, y=84-54=30 -->
    <!-- h[3]=2: height=18, y=84-18=66 -->
    <!-- h[4]=5: height=45, y=84-45=39 -->
    <!-- h[5]=4: height=36, y=84-36=48 -->
    <!-- h[6]=8: height=72, y=84-72=12 -->
    <!-- h[7]=3: height=27, y=84-27=57 -->
    <!-- h[8]=7: height=63, y=84-63=21 -->
    <rect
       x="10"
       y="75"
       width="28"
       height="9"
       class="bar bar-left"
       rx="2"
       id="rect7" />
    <rect
       x="46"
       y="12"
       width="28"
       height="72"
       class="bar bar-normal"
       rx="2"
       id="rect8" />
    <rect
       x="82"
       y="30"
       width="28"
       height="54"
       class="bar bar-normal"
       rx="2"
       id="rect9" />
    <rect
       x="118"
       y="66"
       width="28"
       height="18"
       class="bar bar-normal"
       rx="2"
       id="rect10" />
    <rect
       x="154"
       y="39"
       width="28"
       height="45"
       class="bar bar-normal"
       rx="2"
       id="rect11" />
    <rect
       x="190"
       y="48"
       width="28"
       height="36"
       class="bar bar-normal"
       rx="2"
       id="rect12" />
    <rect
       x="226"
       y="12"
       width="28"
       height="72"
       class="bar bar-normal"
       rx="2"
       id="rect13" />
    <rect
       x="262"
       y="57"
       width="28"
       height="27"
       class="bar bar-normal"
       rx="2"
       id="rect14" />
    <rect
       x="298"
       y="21"
       width="28"
       height="63"
       class="bar bar-right"
       rx="2"
       id="rect15" />
    <!-- values -->
    <text
       x="24"
       y="7"
       class="val"
       id="text15">1</text>
    <text
       x="60"
       y="7"
       class="val"
       id="text16">8</text>
    <text
       x="96"
       y="7"
       class="val"
       id="text17">6</text>
    <text
       x="132"
       y="7"
       class="val"
       id="text18">2</text>
    <text
       x="168"
       y="7"
       class="val"
       id="text19">5</text>
    <text
       x="204"
       y="7"
       class="val"
       id="text20">4</text>
    <text
       x="240"
       y="7"
       class="val"
       id="text21">8</text>
    <text
       x="276"
       y="7"
       class="val"
       id="text22">3</text>
    <text
       x="312"
       y="7"
       class="val"
       id="text23">7</text>
    <!-- indices -->
    <text
       x="24"
       y="98"
       class="idx"
       id="text24">0</text>
    <text
       x="60"
       y="98"
       class="idx"
       id="text25">1</text>
    <text
       x="96"
       y="98"
       class="idx"
       id="text26">2</text>
    <text
       x="132"
       y="98"
       class="idx"
       id="text27">3</text>
    <text
       x="168"
       y="98"
       class="idx"
       id="text28">4</text>
    <text
       x="204"
       y="98"
       class="idx"
       id="text29">5</text>
    <text
       x="240"
       y="98"
       class="idx"
       id="text30">6</text>
    <text
       x="276"
       y="98"
       class="idx"
       id="text31">7</text>
    <text
       x="312"
       y="98"
       class="idx"
       id="text32">8</text>
    <!-- pointers -->
    <text
       x="24"
       y="112"
       class="pointer ptr-left"
       id="text33">↑L</text>
    <text
       x="312"
       y="112"
       class="pointer ptr-right"
       id="text34">↑R</text>
  </g>
  <rect
     x="410"
     y="140"
     width="390"
     height="52"
     class="formula-box"
     id="rect34" />
  <text
     x="605"
     y="158"
     text-anchor="middle"
     class="formula"
     id="text35">min(h[0], h[8]) × (8-0) = min(1, 7) × 8 = 1 × 8 = 8</text>
  <text
     x="605"
     y="178"
     text-anchor="middle"
     class="note"
     id="text36">max = 8. h[0]=1 &lt; h[8]=7 →</text>
  <text
     x="728"
     y="178"
     class="verdict-action"
     id="text37">left++</text>
  <!-- ==================== STEP 1: BEST ==================== -->
  <line
     x1="30"
     y1="228"
     x2="820"
     y2="228"
     class="divider"
     id="line37" />
  <text
     x="40"
     y="250"
     class="step-label"
     id="text38">Шаг 1</text>
  <text
     x="110"
     y="250"
     class="note"
     id="text39">left=1, right=8. Находим максимум!</text>
  <g
     transform="translate(40, 254)"
     id="g67">
    <rect
       x="46"
       y="21"
       width="252"
       height="63"
       class="area-best"
       id="rect39" />
    <rect
       x="10"
       y="75"
       width="28"
       height="9"
       class="bar bar-dim"
       rx="2"
       id="rect40" />
    <rect
       x="46"
       y="12"
       width="28"
       height="72"
       class="bar bar-best"
       rx="2"
       id="rect41" />
    <rect
       x="82"
       y="30"
       width="28"
       height="54"
       class="bar bar-normal"
       rx="2"
       id="rect42" />
    <rect
       x="118"
       y="66"
       width="28"
       height="18"
       class="bar bar-normal"
       rx="2"
       id="rect43" />
    <rect
       x="154"
       y="39"
       width="28"
       height="45"
       class="bar bar-normal"
       rx="2"
       id="rect44" />
    <rect
       x="190"
       y="48"
       width="28"
       height="36"
       class="bar bar-normal"
       rx="2"
       id="rect45" />
    <rect
       x="226"
       y="12"
       width="28"
       height="72"
       class="bar bar-normal"
       rx="2"
       id="rect46" />
    <rect
       x="262"
       y="57"
       width="28"
       height="27"
       class="bar bar-normal"
       rx="2"
       id="rect47" />
    <rect
       x="298"
       y="21"
       width="28"
       height="63"
       class="bar bar-best"
       rx="2"
       id="rect48" />
    <text
       x="24"
       y="7"
       class="val"
       id="text48">1</text>
    <text
       x="60"
       y="7"
       class="val"
       id="text49">8</text>
    <text
       x="96"
       y="7"
       class="val"
       id="text50">6</text>
    <text
       x="132"
       y="7"
       class="val"
       id="text51">2</text>
    <text
       x="168"
       y="7"
       class="val"
       id="text52">5</text>
    <text
       x="204"
       y="7"
       class="val"
       id="text53">4</text>
    <text
       x="240"
       y="7"
       class="val"
       id="text54">8</text>
    <text
       x="276"
       y="7"
       class="val"
       id="text55">3</text>
    <text
       x="312"
       y="7"
       class="val"
       id="text56">7</text>
    <text
       x="24"
       y="98"
       class="idx"
       id="text57">0</text>
    <text
       x="60"
       y="98"
       class="idx"
       id="text58">1</text>
    <text
       x="96"
       y="98"
       class="idx"
       id="text59">2</text>
    <text
       x="132"
       y="98"
       class="idx"
       id="text60">3</text>
    <text
       x="168"
       y="98"
       class="idx"
       id="text61">4</text>
    <text
       x="204"
       y="98"
       class="idx"
       id="text62">5</text>
    <text
       x="240"
       y="98"
       class="idx"
       id="text63">6</text>
    <text
       x="276"
       y="98"
       class="idx"
       id="text64">7</text>
    <text
       x="312"
       y="98"
       class="idx"
       id="text65">8</text>
    <text
       x="60"
       y="112"
       class="pointer ptr-left"
       id="text66">↑L</text>
    <text
       x="312"
       y="112"
       class="pointer ptr-right"
       id="text67">↑R</text>
  </g>
  <rect
     x="410"
     y="286"
     width="390"
     height="52"
     class="max-box"
     id="rect67" />
  <text
     x="605"
     y="304"
     text-anchor="middle"
     class="formula"
     id="text68">min(h[1], h[8]) × (8-1) = min(8, 7) × 7 = 7 × 7 = 49</text>
  <text
     x="605"
     y="324"
     text-anchor="middle"
     class="verdict-found"
     id="text69">max = 49! h[1]=8 &gt; h[8]=7 → right--</text>
  <!-- ==================== STEP 2 ==================== -->
  <line
     x1="30"
     y1="374"
     x2="820"
     y2="374"
     class="divider"
     id="line69" />
  <text
     x="40"
     y="396"
     class="step-label"
     id="text70">Шаг 2</text>
  <text
     x="110"
     y="396"
     class="note"
     id="text71">left=1, right=7. Ширина уменьшилась, высота упала.</text>
  <g
     transform="translate(40, 400)"
     id="g99">
    <rect
       x="46"
       y="57"
       width="216"
       height="27"
       class="area-rect"
       id="rect71" />
    <rect
       x="10"
       y="75"
       width="28"
       height="9"
       class="bar bar-dim"
       rx="2"
       id="rect72" />
    <rect
       x="46"
       y="12"
       width="28"
       height="72"
       class="bar bar-left"
       rx="2"
       id="rect73" />
    <rect
       x="82"
       y="30"
       width="28"
       height="54"
       class="bar bar-normal"
       rx="2"
       id="rect74" />
    <rect
       x="118"
       y="66"
       width="28"
       height="18"
       class="bar bar-normal"
       rx="2"
       id="rect75" />
    <rect
       x="154"
       y="39"
       width="28"
       height="45"
       class="bar bar-normal"
       rx="2"
       id="rect76" />
    <rect
       x="190"
       y="48"
       width="28"
       height="36"
       class="bar bar-normal"
       rx="2"
       id="rect77" />
    <rect
       x="226"
       y="12"
       width="28"
       height="72"
       class="bar bar-normal"
       rx="2"
       id="rect78" />
    <rect
       x="262"
       y="57"
       width="28"
       height="27"
       class="bar bar-right"
       rx="2"
       id="rect79" />
    <rect
       x="298"
       y="21"
       width="28"
       height="63"
       class="bar bar-dim"
       rx="2"
       id="rect80" />
    <text
       x="24"
       y="7"
       class="val"
       id="text80">1</text>
    <text
       x="60"
       y="7"
       class="val"
       id="text81">8</text>
    <text
       x="96"
       y="7"
       class="val"
       id="text82">6</text>
    <text
       x="132"
       y="7"
       class="val"
       id="text83">2</text>
    <text
       x="168"
       y="7"
       class="val"
       id="text84">5</text>
    <text
       x="204"
       y="7"
       class="val"
       id="text85">4</text>
    <text
       x="240"
       y="7"
       class="val"
       id="text86">8</text>
    <text
       x="276"
       y="7"
       class="val"
       id="text87">3</text>
    <text
       x="312"
       y="7"
       class="val"
       id="text88">7</text>
    <text
       x="24"
       y="98"
       class="idx"
       id="text89">0</text>
    <text
       x="60"
       y="98"
       class="idx"
       id="text90">1</text>
    <text
       x="96"
       y="98"
       class="idx"
       id="text91">2</text>
    <text
       x="132"
       y="98"
       class="idx"
       id="text92">3</text>
    <text
       x="168"
       y="98"
       class="idx"
       id="text93">4</text>
    <text
       x="204"
       y="98"
       class="idx"
       id="text94">5</text>
    <text
       x="240"
       y="98"
       class="idx"
       id="text95">6</text>
    <text
       x="276"
       y="98"
       class="idx"
       id="text96">7</text>
    <text
       x="312"
       y="98"
       class="idx"
       id="text97">8</text>
    <text
       x="60"
       y="112"
       class="pointer ptr-left"
       id="text98">↑L</text>
    <text
       x="276"
       y="112"
       class="pointer ptr-right"
       id="text99">↑R</text>
  </g>
  <rect
     x="410"
     y="432"
     width="390"
     height="52"
     class="formula-box"
     id="rect99" />
  <text
     x="605"
     y="450"
     text-anchor="middle"
     class="formula"
     id="text100">min(h[1], h[7]) × (7-1) = min(8, 3) × 6 = 3 × 6 = 18</text>
  <text
     x="592.17792"
     y="468.83435"
     text-anchor="middle"
     class="note"
     id="text101">18 &lt; 49, max не обновился. h[1]=8 &gt; h[7]=3 →</text>
  <text
     x="744.69324"
     y="467.6687"
     class="verdict-action"
     id="text102">right--</text>
  <!-- ==================== STEP 3 ==================== -->
  <line
     x1="30"
     y1="520"
     x2="820"
     y2="520"
     class="divider"
     id="line102" />
  <text
     x="40"
     y="542"
     class="step-label"
     id="text103">Шаг 3</text>
  <text
     x="110"
     y="542"
     class="note"
     id="text104">left=1, right=6. Две восьмёрки — но узко!</text>
  <g
     transform="translate(40, 546)"
     id="g132">
    <rect
       x="46"
       y="12"
       width="180"
       height="72"
       class="area-rect"
       id="rect104" />
    <rect
       x="10"
       y="75"
       width="28"
       height="9"
       class="bar bar-dim"
       rx="2"
       id="rect105" />
    <rect
       x="46"
       y="12"
       width="28"
       height="72"
       class="bar bar-left"
       rx="2"
       id="rect106" />
    <rect
       x="82"
       y="30"
       width="28"
       height="54"
       class="bar bar-normal"
       rx="2"
       id="rect107" />
    <rect
       x="118"
       y="66"
       width="28"
       height="18"
       class="bar bar-normal"
       rx="2"
       id="rect108" />
    <rect
       x="154"
       y="39"
       width="28"
       height="45"
       class="bar bar-normal"
       rx="2"
       id="rect109" />
    <rect
       x="190"
       y="48"
       width="28"
       height="36"
       class="bar bar-normal"
       rx="2"
       id="rect110" />
    <rect
       x="226"
       y="12"
       width="28"
       height="72"
       class="bar bar-right"
       rx="2"
       id="rect111" />
    <rect
       x="262"
       y="57"
       width="28"
       height="27"
       class="bar bar-dim"
       rx="2"
       id="rect112" />
    <rect
       x="298"
       y="21"
       width="28"
       height="63"
       class="bar bar-dim"
       rx="2"
       id="rect113" />
    <text
       x="24"
       y="7"
       class="val"
       id="text113">1</text>
    <text
       x="60"
       y="7"
       class="val"
       id="text114">8</text>
    <text
       x="96"
       y="7"
       class="val"
       id="text115">6</text>
    <text
       x="132"
       y="7"
       class="val"
       id="text116">2</text>
    <text
       x="168"
       y="7"
       class="val"
       id="text117">5</text>
    <text
       x="204"
       y="7"
       class="val"
       id="text118">4</text>
    <text
       x="240"
       y="7"
       class="val"
       id="text119">8</text>
    <text
       x="276"
       y="7"
       class="val"
       id="text120">3</text>
    <text
       x="312"
       y="7"
       class="val"
       id="text121">7</text>
    <text
       x="24"
       y="98"
       class="idx"
       id="text122">0</text>
    <text
       x="60"
       y="98"
       class="idx"
       id="text123">1</text>
    <text
       x="96"
       y="98"
       class="idx"
       id="text124">2</text>
    <text
       x="132"
       y="98"
       class="idx"
       id="text125">3</text>
    <text
       x="168"
       y="98"
       class="idx"
       id="text126">4</text>
    <text
       x="204"
       y="98"
       class="idx"
       id="text127">5</text>
    <text
       x="240"
       y="98"
       class="idx"
       id="text128">6</text>
    <text
       x="276"
       y="98"
       class="idx"
       id="text129">7</text>
    <text
       x="312"
       y="98"
       class="idx"
       id="text130">8</text>
    <text
       x="60"
       y="112"
       class="pointer ptr-left"
       id="text131">↑L</text>
    <text
       x="240"
       y="112"
       class="pointer ptr-right"
       id="text132">↑R</text>
  </g>
  <rect
     x="410"
     y="578"
     width="390"
     height="52"
     class="formula-box"
     id="rect132" />
  <text
     x="605"
     y="596"
     text-anchor="middle"
     class="formula"
     id="text133">min(h[1], h[6]) × (6-1) = min(8, 8) × 5 = 8 × 5 = 40</text>
  <text
     x="605"
     y="616"
     text-anchor="middle"
     class="note"
     id="text134">40 &lt; 49, max не обновился. 8 == 8 →</text>
  <text
     x="734.01843"
     y="614.83435"
     class="verdict-action"
     id="text135">right--</text>
  <!-- ==================== REMAINING STEPS ==================== -->
  <line
     x1="30"
     y1="666"
     x2="820"
     y2="666"
     class="divider"
     id="line135" />
  <text
     x="40"
     y="688"
     class="step-label"
     id="text136">Шаги 4-7</text>
  <text
     x="140"
     y="688"
     class="note"
     id="text137">right сдвигается к left, все площади меньше 49:</text>
  <g
     transform="translate(40, 700)"
     id="g143">
    <rect
       x="0"
       y="0"
       width="780"
       height="56"
       rx="8"
       fill="#f8fafc"
       stroke="#e2e8f0"
       stroke-width="1"
       id="rect137" />
    <text
       x="20"
       y="18"
       class="formula"
       id="text138">Шаг 4: left=1, right=5 → min(8,4)×4 = 16</text>
    <text
       x="20"
       y="34"
       class="formula"
       id="text139">Шаг 5: left=1, right=4 → min(8,5)×3 = 15</text>
    <text
       x="20"
       y="50"
       class="formula"
       id="text140">Шаг 6: left=1, right=3 → min(8,2)×2 = 4</text>
    <text
       x="400"
       y="18"
       class="formula"
       id="text141">Шаг 7: left=1, right=2 → min(8,6)×1 = 6</text>
    <text
       x="400"
       y="34"
       class="formula"
       id="text142">left=1, right=1 → left == right → конец</text>
    <text
       x="400"
       y="50"
       class="verdict-found"
       id="text143">Ни один не побил 49</text>
  </g>
  <!-- ==================== RESULT ==================== -->
  <line
     x1="30"
     y1="772"
     x2="820"
     y2="772"
     class="divider"
     id="line143" />
  <text
     x="425"
     y="800"
     text-anchor="middle"
     class="step-label"
     id="text144">Результат: 49</text>
  <text
     x="425"
     y="822"
     text-anchor="middle"
     class="note"
     id="text145">Лучшая пара: индексы (1, 8), высоты (8, 7), ширина 7</text>
  <text
     x="425"
     y="842"
     text-anchor="middle"
     class="note"
     id="text146">min(8, 7) × 7 = 49. Пара (1, 6) с высотами (8, 8) даёт только 40 — уже на 2 индекса.</text>
  <!-- ==================== WHY IT WORKS ==================== -->
  <line
     x1="30"
     y1="862"
     x2="820"
     y2="862"
     class="divider"
     id="line146" />
  <text
     x="425"
     y="888"
     text-anchor="middle"
     class="step-label"
     id="text147">Почему двигаем короткую стенку</text>
  <g
     transform="translate(60, 900)"
     id="g148">
    <rect
       x="0"
       y="0"
       width="330"
       height="36"
       rx="8"
       fill="#dbeafe"
       stroke="#93c5fd"
       stroke-width="1.5"
       id="rect147" />
    <text
       x="165"
       y="22"
       text-anchor="middle"
       class="note-bold"
       id="text148">Двинуть короткую → шанс найти выше</text>
  </g>
  <g
     transform="translate(440, 900)"
     id="g149">
    <rect
       x="0"
       y="0"
       width="330"
       height="36"
       rx="8"
       fill="#fee2e2"
       stroke="#fca5a5"
       stroke-width="1.5"
       id="rect148" />
    <text
       x="165"
       y="22"
       text-anchor="middle"
       class="note-bold"
       id="text149">Двинуть высокую → площадь точно упадёт</text>
  </g>
</svg>
