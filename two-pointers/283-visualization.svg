<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 900 780" font-family="monospace">
  <rect width="900" height="780" fill="#1e1e2e" rx="12"/>

  <!-- Title -->
  <text x="450" y="30" text-anchor="middle" fill="#cdd6f4" font-size="17" font-weight="bold">283. Move Zeroes — Two Pointers (быстрый/медленный)</text>
  <text x="450" y="50" text-anchor="middle" fill="#a6adc8" font-size="12">nums = [0, 1, 0, 3, 12] → [1, 3, 12, 0, 0]</text>

  <!-- Legend -->
  <rect x="170" y="62" width="14" height="12" fill="#a6e3a1" opacity="0.3" rx="2"/>
  <text x="190" y="73" fill="#a6adc8" font-size="11">Запись (ненулевой)</text>
  <rect x="330" y="62" width="14" height="12" fill="#585b70" opacity="0.5" rx="2"/>
  <text x="350" y="73" fill="#a6adc8" font-size="11">Пропуск (ноль)</text>
  <rect x="490" y="62" width="14" height="12" fill="#f38ba8" opacity="0.3" rx="2"/>
  <text x="510" y="73" fill="#a6adc8" font-size="11">Заливка нулями</text>

  <!-- ═══════════════════════════════════════ -->
  <!-- ПРОХОД 1: сбор ненулевых              -->
  <!-- ═══════════════════════════════════════ -->
  <text x="450" y="100" text-anchor="middle" fill="#cdd6f4" font-size="14" font-weight="bold">Проход 1: собираем ненулевые в начало</text>

  <!-- Начальное состояние -->
  <text x="100" y="128" text-anchor="end" fill="#6c7086" font-size="11">Старт:</text>
  <rect x="120" y="114" width="60" height="26" fill="#585b70" opacity="0.3" stroke="#6c7086" stroke-width="1" rx="3"/>
  <text x="150" y="131" text-anchor="middle" fill="#6c7086" font-size="13">0</text>
  <rect x="190" y="114" width="60" height="26" fill="none" stroke="#6c7086" stroke-width="1" rx="3"/>
  <text x="220" y="131" text-anchor="middle" fill="#cdd6f4" font-size="13">1</text>
  <rect x="260" y="114" width="60" height="26" fill="#585b70" opacity="0.3" stroke="#6c7086" stroke-width="1" rx="3"/>
  <text x="290" y="131" text-anchor="middle" fill="#6c7086" font-size="13">0</text>
  <rect x="330" y="114" width="60" height="26" fill="none" stroke="#6c7086" stroke-width="1" rx="3"/>
  <text x="360" y="131" text-anchor="middle" fill="#cdd6f4" font-size="13">3</text>
  <rect x="400" y="114" width="60" height="26" fill="none" stroke="#6c7086" stroke-width="1" rx="3"/>
  <text x="430" y="131" text-anchor="middle" fill="#cdd6f4" font-size="13">12</text>
  <text x="150" y="152" text-anchor="middle" fill="#6c7086" font-size="9">[0]</text>
  <text x="220" y="152" text-anchor="middle" fill="#6c7086" font-size="9">[1]</text>
  <text x="290" y="152" text-anchor="middle" fill="#6c7086" font-size="9">[2]</text>
  <text x="360" y="152" text-anchor="middle" fill="#6c7086" font-size="9">[3]</text>
  <text x="430" y="152" text-anchor="middle" fill="#6c7086" font-size="9">[4]</text>

  <!-- insertPos и i стрелки для старта -->
  <text x="510" y="131" fill="#6c7086" font-size="11">insertPos = 0, i = 0</text>

  <!-- Шаг 1: i=0, nums[0]=0, пропускаем -->
  <text x="100" y="180" text-anchor="end" fill="#6c7086" font-size="11">i=0:</text>
  <rect x="120" y="166" width="60" height="26" fill="#585b70" opacity="0.5" stroke="#f9e2af" stroke-width="2" rx="3"/>
  <text x="150" y="183" text-anchor="middle" fill="#6c7086" font-size="13">0</text>
  <rect x="190" y="166" width="60" height="26" fill="none" stroke="#6c7086" stroke-width="1" rx="3"/>
  <text x="220" y="183" text-anchor="middle" fill="#cdd6f4" font-size="13">1</text>
  <rect x="260" y="166" width="60" height="26" fill="none" stroke="#6c7086" stroke-width="1" rx="3"/>
  <text x="290" y="183" text-anchor="middle" fill="#cdd6f4" font-size="13">0</text>
  <rect x="330" y="166" width="60" height="26" fill="none" stroke="#6c7086" stroke-width="1" rx="3"/>
  <text x="360" y="183" text-anchor="middle" fill="#cdd6f4" font-size="13">3</text>
  <rect x="400" y="166" width="60" height="26" fill="none" stroke="#6c7086" stroke-width="1" rx="3"/>
  <text x="430" y="183" text-anchor="middle" fill="#cdd6f4" font-size="13">12</text>
  <text x="150" y="161" text-anchor="middle" fill="#f9e2af" font-size="9">i</text>
  <text x="150" y="204" text-anchor="middle" fill="#a6e3a1" font-size="9">insertPos</text>
  <text x="510" y="183" fill="#6c7086" font-size="11">nums[0]=0 → пропуск</text>

  <!-- Шаг 2: i=1, nums[1]=1, записываем в insertPos=0 -->
  <text x="100" y="232" text-anchor="end" fill="#a6e3a1" font-size="11">i=1:</text>
  <rect x="120" y="218" width="60" height="26" fill="#a6e3a1" opacity="0.2" stroke="#a6e3a1" stroke-width="2" rx="3"/>
  <text x="150" y="235" text-anchor="middle" fill="#a6e3a1" font-size="13" font-weight="bold">1</text>
  <rect x="190" y="218" width="60" height="26" fill="none" stroke="#f9e2af" stroke-width="2" rx="3"/>
  <text x="220" y="235" text-anchor="middle" fill="#cdd6f4" font-size="13">1</text>
  <rect x="260" y="218" width="60" height="26" fill="none" stroke="#6c7086" stroke-width="1" rx="3"/>
  <text x="290" y="235" text-anchor="middle" fill="#cdd6f4" font-size="13">0</text>
  <rect x="330" y="218" width="60" height="26" fill="none" stroke="#6c7086" stroke-width="1" rx="3"/>
  <text x="360" y="235" text-anchor="middle" fill="#cdd6f4" font-size="13">3</text>
  <rect x="400" y="218" width="60" height="26" fill="none" stroke="#6c7086" stroke-width="1" rx="3"/>
  <text x="430" y="235" text-anchor="middle" fill="#cdd6f4" font-size="13">12</text>
  <text x="220" y="213" text-anchor="middle" fill="#f9e2af" font-size="9">i</text>
  <text x="150" y="256" text-anchor="middle" fill="#a6e3a1" font-size="9">insertPos</text>
  <text x="510" y="235" fill="#a6e3a1" font-size="11">nums[1]=1 → nums[0]=1, insertPos++</text>
  <!-- Стрелка от i к insertPos -->
  <line x1="210" y1="225" x2="175" y2="225" stroke="#a6e3a1" stroke-width="1.5" marker-end="url(#arrow)"/>
  <defs><marker id="arrow" markerWidth="8" markerHeight="6" refX="8" refY="3" orient="auto"><path d="M0,0 L8,3 L0,6" fill="#a6e3a1"/></marker></defs>

  <!-- Шаг 3: i=2, nums[2]=0, пропускаем -->
  <text x="100" y="284" text-anchor="end" fill="#6c7086" font-size="11">i=2:</text>
  <rect x="120" y="270" width="60" height="26" fill="none" stroke="#6c7086" stroke-width="1" rx="3"/>
  <text x="150" y="287" text-anchor="middle" fill="#cdd6f4" font-size="13">1</text>
  <rect x="190" y="270" width="60" height="26" fill="none" stroke="#6c7086" stroke-width="1" rx="3"/>
  <text x="220" y="287" text-anchor="middle" fill="#cdd6f4" font-size="13">1</text>
  <rect x="260" y="270" width="60" height="26" fill="#585b70" opacity="0.5" stroke="#f9e2af" stroke-width="2" rx="3"/>
  <text x="290" y="287" text-anchor="middle" fill="#6c7086" font-size="13">0</text>
  <rect x="330" y="270" width="60" height="26" fill="none" stroke="#6c7086" stroke-width="1" rx="3"/>
  <text x="360" y="287" text-anchor="middle" fill="#cdd6f4" font-size="13">3</text>
  <rect x="400" y="270" width="60" height="26" fill="none" stroke="#6c7086" stroke-width="1" rx="3"/>
  <text x="430" y="287" text-anchor="middle" fill="#cdd6f4" font-size="13">12</text>
  <text x="290" y="265" text-anchor="middle" fill="#f9e2af" font-size="9">i</text>
  <text x="220" y="308" text-anchor="middle" fill="#a6e3a1" font-size="9">insertPos</text>
  <text x="510" y="287" fill="#6c7086" font-size="11">nums[2]=0 → пропуск</text>

  <!-- Шаг 4: i=3, nums[3]=3, записываем в insertPos=1 -->
  <text x="100" y="336" text-anchor="end" fill="#a6e3a1" font-size="11">i=3:</text>
  <rect x="120" y="322" width="60" height="26" fill="none" stroke="#6c7086" stroke-width="1" rx="3"/>
  <text x="150" y="339" text-anchor="middle" fill="#cdd6f4" font-size="13">1</text>
  <rect x="190" y="322" width="60" height="26" fill="#a6e3a1" opacity="0.2" stroke="#a6e3a1" stroke-width="2" rx="3"/>
  <text x="220" y="339" text-anchor="middle" fill="#a6e3a1" font-size="13" font-weight="bold">3</text>
  <rect x="260" y="322" width="60" height="26" fill="none" stroke="#6c7086" stroke-width="1" rx="3"/>
  <text x="290" y="339" text-anchor="middle" fill="#cdd6f4" font-size="13">0</text>
  <rect x="330" y="322" width="60" height="26" fill="none" stroke="#f9e2af" stroke-width="2" rx="3"/>
  <text x="360" y="339" text-anchor="middle" fill="#cdd6f4" font-size="13">3</text>
  <rect x="400" y="322" width="60" height="26" fill="none" stroke="#6c7086" stroke-width="1" rx="3"/>
  <text x="430" y="339" text-anchor="middle" fill="#cdd6f4" font-size="13">12</text>
  <text x="360" y="317" text-anchor="middle" fill="#f9e2af" font-size="9">i</text>
  <text x="220" y="360" text-anchor="middle" fill="#a6e3a1" font-size="9">insertPos</text>
  <text x="510" y="339" fill="#a6e3a1" font-size="11">nums[3]=3 → nums[1]=3, insertPos++</text>
  <line x1="350" y1="329" x2="245" y2="329" stroke="#a6e3a1" stroke-width="1.5" marker-end="url(#arrow)"/>

  <!-- Шаг 5: i=4, nums[4]=12, записываем в insertPos=2 -->
  <text x="100" y="388" text-anchor="end" fill="#a6e3a1" font-size="11">i=4:</text>
  <rect x="120" y="374" width="60" height="26" fill="none" stroke="#6c7086" stroke-width="1" rx="3"/>
  <text x="150" y="391" text-anchor="middle" fill="#cdd6f4" font-size="13">1</text>
  <rect x="190" y="374" width="60" height="26" fill="none" stroke="#6c7086" stroke-width="1" rx="3"/>
  <text x="220" y="391" text-anchor="middle" fill="#cdd6f4" font-size="13">3</text>
  <rect x="260" y="374" width="60" height="26" fill="#a6e3a1" opacity="0.2" stroke="#a6e3a1" stroke-width="2" rx="3"/>
  <text x="290" y="391" text-anchor="middle" fill="#a6e3a1" font-size="13" font-weight="bold">12</text>
  <rect x="330" y="374" width="60" height="26" fill="none" stroke="#6c7086" stroke-width="1" rx="3"/>
  <text x="360" y="391" text-anchor="middle" fill="#cdd6f4" font-size="13">3</text>
  <rect x="400" y="374" width="60" height="26" fill="none" stroke="#f9e2af" stroke-width="2" rx="3"/>
  <text x="430" y="391" text-anchor="middle" fill="#cdd6f4" font-size="13">12</text>
  <text x="430" y="369" text-anchor="middle" fill="#f9e2af" font-size="9">i</text>
  <text x="290" y="412" text-anchor="middle" fill="#a6e3a1" font-size="9">insertPos</text>
  <text x="510" y="391" fill="#a6e3a1" font-size="11">nums[4]=12 → nums[2]=12, insertPos++</text>
  <line x1="420" y1="381" x2="315" y2="381" stroke="#a6e3a1" stroke-width="1.5" marker-end="url(#arrow)"/>

  <!-- Промежуточный результат -->
  <text x="100" y="440" text-anchor="end" fill="#f9e2af" font-size="11">После:</text>
  <rect x="120" y="426" width="60" height="26" fill="none" stroke="#6c7086" stroke-width="1" rx="3"/>
  <text x="150" y="443" text-anchor="middle" fill="#cdd6f4" font-size="13">1</text>
  <rect x="190" y="426" width="60" height="26" fill="none" stroke="#6c7086" stroke-width="1" rx="3"/>
  <text x="220" y="443" text-anchor="middle" fill="#cdd6f4" font-size="13">3</text>
  <rect x="260" y="426" width="60" height="26" fill="none" stroke="#6c7086" stroke-width="1" rx="3"/>
  <text x="290" y="443" text-anchor="middle" fill="#cdd6f4" font-size="13">12</text>
  <rect x="330" y="426" width="60" height="26" fill="#f9e2af" opacity="0.15" stroke="#f9e2af" stroke-width="1" stroke-dasharray="4,2" rx="3"/>
  <text x="360" y="443" text-anchor="middle" fill="#f9e2af" font-size="13">3</text>
  <rect x="400" y="426" width="60" height="26" fill="#f9e2af" opacity="0.15" stroke="#f9e2af" stroke-width="1" stroke-dasharray="4,2" rx="3"/>
  <text x="430" y="443" text-anchor="middle" fill="#f9e2af" font-size="13">12</text>
  <text x="510" y="443" fill="#f9e2af" font-size="11">[1,3,12, 3,12] ← хвост — мусор</text>
  <text x="360" y="464" text-anchor="middle" fill="#f9e2af" font-size="9">insertPos=3</text>

  <!-- ═══════════════════════════════════════ -->
  <!-- ПРОХОД 2: заливка нулями               -->
  <!-- ═══════════════════════════════════════ -->
  <line x1="40" y1="478" x2="860" y2="478" stroke="#313244" stroke-width="1"/>
  <text x="450" y="498" text-anchor="middle" fill="#cdd6f4" font-size="14" font-weight="bold">Проход 2: заливаем хвост нулями (от insertPos до конца)</text>

  <text x="100" y="528" text-anchor="end" fill="#f38ba8" font-size="11">Заливка:</text>
  <rect x="120" y="514" width="60" height="26" fill="none" stroke="#6c7086" stroke-width="1" rx="3"/>
  <text x="150" y="531" text-anchor="middle" fill="#cdd6f4" font-size="13">1</text>
  <rect x="190" y="514" width="60" height="26" fill="none" stroke="#6c7086" stroke-width="1" rx="3"/>
  <text x="220" y="531" text-anchor="middle" fill="#cdd6f4" font-size="13">3</text>
  <rect x="260" y="514" width="60" height="26" fill="none" stroke="#6c7086" stroke-width="1" rx="3"/>
  <text x="290" y="531" text-anchor="middle" fill="#cdd6f4" font-size="13">12</text>
  <rect x="330" y="514" width="60" height="26" fill="#f38ba8" opacity="0.2" stroke="#f38ba8" stroke-width="2" rx="3"/>
  <text x="360" y="531" text-anchor="middle" fill="#f38ba8" font-size="13" font-weight="bold">0</text>
  <rect x="400" y="514" width="60" height="26" fill="#f38ba8" opacity="0.2" stroke="#f38ba8" stroke-width="2" rx="3"/>
  <text x="430" y="531" text-anchor="middle" fill="#f38ba8" font-size="13" font-weight="bold">0</text>
  <text x="510" y="531" fill="#f38ba8" font-size="11">nums[3]=0, nums[4]=0</text>

  <!-- Результат -->
  <text x="100" y="572" text-anchor="end" fill="#a6e3a1" font-size="11">Итог:</text>
  <rect x="120" y="558" width="60" height="26" fill="#a6e3a1" opacity="0.1" stroke="#a6e3a1" stroke-width="1" rx="3"/>
  <text x="150" y="575" text-anchor="middle" fill="#a6e3a1" font-size="13" font-weight="bold">1</text>
  <rect x="190" y="558" width="60" height="26" fill="#a6e3a1" opacity="0.1" stroke="#a6e3a1" stroke-width="1" rx="3"/>
  <text x="220" y="575" text-anchor="middle" fill="#a6e3a1" font-size="13" font-weight="bold">3</text>
  <rect x="260" y="558" width="60" height="26" fill="#a6e3a1" opacity="0.1" stroke="#a6e3a1" stroke-width="1" rx="3"/>
  <text x="290" y="575" text-anchor="middle" fill="#a6e3a1" font-size="13" font-weight="bold">12</text>
  <rect x="330" y="558" width="60" height="26" fill="#45475a" opacity="0.3" stroke="#6c7086" stroke-width="1" rx="3"/>
  <text x="360" y="575" text-anchor="middle" fill="#6c7086" font-size="13">0</text>
  <rect x="400" y="558" width="60" height="26" fill="#45475a" opacity="0.3" stroke="#6c7086" stroke-width="1" rx="3"/>
  <text x="430" y="575" text-anchor="middle" fill="#6c7086" font-size="13">0</text>
  <text x="510" y="575" fill="#a6e3a1" font-size="11">[1, 3, 12, 0, 0] ✓</text>

  <!-- ═══════════════════════════════════════ -->
  <!-- ГРАНИЧНЫЕ СЛУЧАИ                        -->
  <!-- ═══════════════════════════════════════ -->
  <line x1="40" y1="598" x2="860" y2="598" stroke="#313244" stroke-width="1"/>
  <text x="450" y="620" text-anchor="middle" fill="#cdd6f4" font-size="14" font-weight="bold">Граничные случаи</text>

  <!-- Случай 1: все нули -->
  <text x="100" y="648" text-anchor="end" fill="#f9e2af" font-size="11">[0, 0, 0]:</text>
  <rect x="120" y="634" width="50" height="26" fill="#585b70" opacity="0.3" stroke="#6c7086" stroke-width="1" rx="3"/>
  <text x="145" y="651" text-anchor="middle" fill="#6c7086" font-size="13">0</text>
  <rect x="178" y="634" width="50" height="26" fill="#585b70" opacity="0.3" stroke="#6c7086" stroke-width="1" rx="3"/>
  <text x="203" y="651" text-anchor="middle" fill="#6c7086" font-size="13">0</text>
  <rect x="236" y="634" width="50" height="26" fill="#585b70" opacity="0.3" stroke="#6c7086" stroke-width="1" rx="3"/>
  <text x="261" y="651" text-anchor="middle" fill="#6c7086" font-size="13">0</text>
  <text x="310" y="651" fill="#6c7086" font-size="11">→ insertPos=0, всё заливается нулями → [0,0,0]</text>
  <text x="310" y="665" fill="#6c7086" font-size="10">Первый цикл ничего не записал, второй прошёл по всему массиву</text>

  <!-- Случай 2: без нулей -->
  <text x="100" y="694" text-anchor="end" fill="#f9e2af" font-size="11">[1, 2, 3]:</text>
  <rect x="120" y="680" width="50" height="26" fill="#a6e3a1" opacity="0.1" stroke="#a6e3a1" stroke-width="1" rx="3"/>
  <text x="145" y="697" text-anchor="middle" fill="#a6e3a1" font-size="13">1</text>
  <rect x="178" y="680" width="50" height="26" fill="#a6e3a1" opacity="0.1" stroke="#a6e3a1" stroke-width="1" rx="3"/>
  <text x="203" y="697" text-anchor="middle" fill="#a6e3a1" font-size="13">2</text>
  <rect x="236" y="680" width="50" height="26" fill="#a6e3a1" opacity="0.1" stroke="#a6e3a1" stroke-width="1" rx="3"/>
  <text x="261" y="697" text-anchor="middle" fill="#a6e3a1" font-size="13">3</text>
  <text x="310" y="697" fill="#6c7086" font-size="11">→ insertPos=3, хвост пустой → [1,2,3]</text>
  <text x="310" y="711" fill="#6c7086" font-size="10">i и insertPos бежали вместе, второй цикл не выполнился</text>

  <!-- Случай 3: один элемент -->
  <text x="100" y="740" text-anchor="end" fill="#f9e2af" font-size="11">[0]:</text>
  <rect x="120" y="726" width="50" height="26" fill="#585b70" opacity="0.3" stroke="#6c7086" stroke-width="1" rx="3"/>
  <text x="145" y="743" text-anchor="middle" fill="#6c7086" font-size="13">0</text>
  <text x="310" y="743" fill="#6c7086" font-size="11">→ insertPos=0, заливка [0] → [0]</text>
  <text x="310" y="757" fill="#6c7086" font-size="10">Ноль остался нулём, ничего не сломалось</text>
</svg>
